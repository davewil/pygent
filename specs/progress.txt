2026-01-16: Initialized project structure and configuration.
2026-01-16: Implemented core tool system (ToolDefinition, tool decorator) and verified with tests.
2026-01-16: Configured pre-commit hooks for automatic linting (ruff) and testing (pytest).
2026-01-16: Repository initialized and pushed to GitHub (davewil/pygent).
2026-01-16: Implemented ToolRegistry class with property-based tests. Added hypothesis dependency.
2026-01-16: Implemented filesystem tools (read_file, list_files, edit_file) with unit tests.
2026-01-16: Refactored filesystem tools to use async I/O (aiofiles) and added property-based tests (hypothesis).
2026-01-16: Implemented Core Agent Infrastructure (LLMProvider, PermissionManager, Agent, Loop, Session Models) using TDD.
2026-01-16: Implemented Configuration System (settings.py, loader.py) with priority merging (Project > User > Defaults) and verified with tests.
2026-01-16: Implemented shell tool (src/pygent/tools/shell.py) with async execution, timeout handling, and output capturing.
2026-01-16: Added comprehensive unit and property-based tests for shell tool (tests/test_tools/test_shell.py).
2026-01-16: Implemented Session Storage (storage.py) with async I/O. Added SessionSummary model. Verified with unit and property-based tests.
2026-01-16: Implemented Basic TUI Structure (app.py, widgets.py, styles.tcss).
2026-01-16: Added TUI tests (test_app.py) verifying startup and key bindings.
2026-01-16: Integrated TUI with Agent Loop. Updated PygentApp to handle agent events and added integration tests (test_integration.py). Verified all tests pass.
2026-01-16: Implemented CLI entry point (src/pygent/cli.py) with chat command. Wired up to Agent/TUI. Verified with units tests.
2026-01-16: Implemented Permission Integration. Wired PermissionPrompt in TUI to Agent's PermissionManager via CLI. Added integration tests for Allow/Deny flows. Refactored CLI initialization to resolve circular dependencies.
2026-01-16: Implemented Session Persistence in TUI. Wired SessionStorage to PygentApp and implemented action_save_session method. Added verification tests.
2026-01-16: Added comprehensive tests for conversation loop error handling (test_loop.py): unknown tool handling, tool execution exceptions, permission denied flows, message conversion, multiple tool calls, and property-based tests. Also added LLMProvider tool call parsing tests for string/dict JSON args and invalid JSON handling. Coverage improved from 91% to 94%, with core/loop.py and core/providers.py now at 100%.
2026-01-16: Implemented CLI commands (sessions, resume, config). Sessions command lists saved sessions with ID, date, message count, and working directory. Resume command loads an existing session and starts the TUI. Config command displays current configuration. Fixed deprecated asyncio.get_event_loop() usage in property-based tests for Python 3.13 compatibility. Coverage improved to 95%.
2026-01-16: Added MockLLMProvider (core/mock_provider.py) for TUI testing without API key. Supports canned text responses and tool call triggers based on user input keywords. Added --mock flag to CLI chat command. Verified with unit tests.
2026-01-16: Added comprehensive error handling tests for SessionStorage (test_storage.py): corrupted file loading, non-existent session deletion, index.json skipping, and corrupted file filtering in list_sessions. Coverage for storage.py improved from 84% to 96%.
2026-01-16: Added shell tool exception path tests (test_shell.py): ProcessLookupError during timeout (when process exits before kill) and generic exception handling (when subprocess creation fails). Coverage for shell.py improved from 85% to 100%.
2026-01-16: Refactored CLI (src/pygent/cli.py) to consolidate initialization logic in _init_agent_and_app, reducing code duplication and ensuring consistent settings integration.
2026-01-16: Implemented missing TUI actions (PygentApp.action_new_session, PygentApp.action_toggle_permissions) and integrated TUI settings (theme, show_tool_panel).
2026-01-16: Added comprehensive integration tests for TUI actions (tests/test_integration/test_tui_actions.py) and fixed regressions in existing tests (test_cli.py, test_config.py, test_integration.py). Verified all 86 tests pass.
2026-01-16: Fixed case sensitivity in MockLLMProvider. Filenames now preserve original case for tool calls on Unix systems, while command triggers remains case-insensitive. Updated and added tests to verify fix.
2026-01-16: Finalized Phase 1 MVP. Implemented performance benchmarking (tests/test_performance.py) verifying <500ms tool execution. Achieved 96% test coverage across the codebase. Verified all CLI commands and TUI actions.
2026-01-16: Fixed GitHub Actions CI errors. Resolved ruff linting issues (import sorting) and fixed mypy source shadowing by configuring mypy_path = "src" in pyproject.toml. Handled version-specific mypy errors in loader.py using pragmas. Verified successful CI run across Python 3.10, 3.11, and 3.12.
2026-01-16: Improved test coverage from 96% to 97%. Added 13 new tests covering edge cases:
  - Fixed RuntimeWarnings in test_shell.py by replacing AsyncMock with MagicMock+explicit async methods to avoid unawaited coroutine warnings during pytest-asyncio/hypothesis cleanup
  - Added filterwarnings to pyproject.toml to suppress spurious AsyncMock cleanup warnings
  - MockLLMProvider tests: Added tests for delay feature, no-user-message edge case, quoted filename/path/command extraction, edit_file trigger, tool-result-only messages, and non-string content handling (87% → 97%)
  - Filesystem tests: Added tests for IsADirectoryError when reading directory, FileNotFoundError in list_files, and FileNotFoundError in edit_file (93% → 100%)
  - Total: 105 tests pass (up from 92), all linting/type checks pass.
2026-01-16: Started Phase 2 - Extended Tools. Implemented grep_search tool (src/pygent/tools/search.py):
  - Supports regex pattern matching in files with ripgrep backend (fast) or pure Python fallback
  - Features: file pattern filtering (glob), case-insensitive search, max results limit, context lines
  - Respects .gitignore-style exclusions (hidden dirs, node_modules, __pycache__, .git, venv)
  - Returns structured JSON results with file, line number, content, and match text
  - Added 22 tests including unit tests and property-based tests (hypothesis)
  - Total: 127 tests pass, 97% coverage maintained
